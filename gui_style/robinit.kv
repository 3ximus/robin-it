#:kivy 1.8.0


#:set font 'gui_style/fonts/VertigoFLF.ttf'
#:set title_font 'gui_style/fonts/GatsbyFLF-Bold.ttf'

## --- other options ---
#:set machine_font 'gui_style/fonts/TH3 MACHINE.ttf'
#:set tech_font 'gui_style/fonts/Park Tech CG.ttf'
#:set Ltech_font 'gui_style/fonts/Park Tech CG Light.ttf'

#:set green_color 0.4, 0.8, 0.2, 1

# -------------------
#    BACKGROUND
# -------------------
<BokehLight>:
	# Bokeh settings
	opacity: self._opacity
	canvas:
		Color:
			rgb: self.r_color
		Ellipse:
			size: self.r_width, self.r_height
			pos: self.pos
<Background>:
	# Background Color
	canvas:
		Color:
			rgb: 0.25, 0.25, 0.25
		Rectangle:
			size: self.size

# --------------------
# SCROOLLERS AND GRIDS
# --------------------

<ItemScroller>:
	bar_color: green_color

# ----------------------
# IMAGES/BUTTONS/BUBBLES
# ----------------------

<ImageBanner>:
	size_hint_y: None
	height: 80

# General Green Button rule
<ThemeButton>:
	background_normal: ''
	background_disabled_down: ''
	background_color: green_color
	font_name: font
	size_hint: None, None

# Button rule definition
<MainMenuButton@ThemeButton>:
	width: 170
	height: 90
	font_size: 60

<RemoveShow>:
	text: 'Remove'
	font_size: 60
	width: 120
	height: 60
	pos: self.pos

<ToogleWatched>:
	text: 'Toogle'
	font_size: 60
	width: 120
	height: 60

[CustomAccordionItem@Label]:
    text: ctx.title
	font_name: font
	font_size: 35
    canvas.before:
        Color:
			rgb: green_color
        BorderImage:
            source:
                ctx.item.background_normal \
                if ctx.item.collapse \
                else ctx.item.background_selected
            pos: self.pos
            size: self.size
        PushMatrix
        Translate:
            xy: self.center_x, self.center_y
        Rotate:
            angle: 90 if ctx.item.orientation == 'horizontal' else 0
            axis: 0, 0, 1
        Translate:
            xy: -self.center_x, -self.center_y
    canvas.after:
        PopMatrix

<SelectionMenuBar>:
	canvas:
		Color:
			rgb: 0.5, 0.5, 0.5, 1
		Rectangle:
			source:
			size: self.size
			pos: self.pos
	opacity: 0.6


# -------------------
#    MAIN SCREEN
# -------------------

<MainScreen>:
	BoxLayout:
		orientation: 'vertical'
		Label:
			text: 'Robin It'
			font_name: title_font
			font_size: 150
		BoxLayout:
			padding: [30, 70, 30, 70]
			spacing: 30
			# used to keep buttons in order
			Label:
			MainMenuButton:
				text: 'Movies'
				on_release: root.manager.current = 'movies_main_screen'
				disabled: True
			MainMenuButton:
				text: 'Shows'
				on_release:
					root.manager.transition.direction = 'up'
					root.manager.current = 'shows_main_screen'
			MainMenuButton
				text: 'Books'
				on_release: root.manager.current = 'books_main_screen'
				disabled: True
			MainMenuButton:
				text: 'Games'
				on_release: root.manager.current = 'games_main_screen'
				disabled: True
			# used to keep buttons in order
			Label:

# -------------------
#    SHOWS SCREEN
# -------------------

<ShowsMainScreen>:
	FloatLayout:
		ThemeButton:
			text: 'Back'
			font_size: 50
			on_release:
				root.manager.transition.direction = 'down'
				root.manager.current = 'main_screen'
			width: 100
			height: 60
			pos: 10, root.top - 70
		ThemeButton:
			text: '+ Add'
			font_size: 50
			width: 120
			height: 60
			pos: 10, 10
		ThemeButton:
			text: 'All >>'
			font_size: 50
			on_release:
				root.manager.transition.direction = 'left'
				root.manager.current = 'all_shows_screen'
			width: 120
			height: 60
			pos: root.right - 130, 10

<AllShowsScreen>:
	Accordion:
		size_hint: None, None
		pos: 50, 100
		height: root.top - 200
		width: root.right - 100
		AccordionItem:
			title_template: 'CustomAccordionItem'
			background_normal: ''
			background_color: green_color
			title: 'Watched'
			ItemScroller:
				ShowsGrid:
					cols: 3
					spacing: 5
					size_hint_y: None
		AccordionItem:
			title_template: 'CustomAccordionItem'
			background_normal: ''
			background_color: green_color
			title: 'Following'
			ItemScroller:
				ShowsGrid:
					cols: 3
					spacing: 5
					size_hint_y: None
	ThemeButton:
		text: '<< Following'
		font_size: 50
		on_release:
			root.manager.transition.direction = 'right'
			root.manager.current = 'shows_main_screen'
		width: 160
		height: 60
		pos: 10, root.top - 70
	ThemeButton:
		text: '+ Add'
		font_size: 50
		width: 120
		height: 60
		pos: 10, 10

# -------------------
#    MOVIES SCREEN
# -------------------

<MoviesMainScreen>:

